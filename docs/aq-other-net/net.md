# 计算机网络

## Http 与 Https 的区别.

1. http 运行于 TCP 之上，https 运行于 SSL 之上，SSL 运行于 TCP 之上
2. https 是添加了加密和认证机制的 http
3. http 端口是 80，https 端口是 443
4. https 资源消耗大，并且需要证书

## 对称加密和非对称加密

1. 对称加密使用同一个密钥
2. 非对称加密配有公钥和私钥
3. 目前常用的解决方法：对称加密传递信息，对称加密的密钥采用非对称加密

## 三次握手

1. 客：我要和你建立连接
2. 服：你真的要和我建立连接吗
3. 客：我真的要和你建立连接

| 方向 |   客户端    |           消息            | 消息简记 |   服务端    |
| :--: | :---------: | :-----------------------: | :------: | :---------: |
|  ->  |  SYN_SENT   |        SYN=1 seq=j        |    sq    |  SYN_RCVD   |
|  <-  | ESTABLISHED | SYN=1 ACK=1 ack=j+1 seq=k |   saaq   |  SYN_RCVD   |
|  ->  | ESTABLISHED |       ACK=1 ack=k+1       |    aa    | ESTABLISHED |

## 可否两次握手

三次握手防止错误信息，如已失效的请求，发送到服务器

## 四次挥手

1. 客：我要和你断开连接
2. 服：好的，断吧
3. 服：我也要和你断开连接
4. 客：好的，断吧

| 方向 |     客户端      |     消息      | 消息简记 |   服务端   |
| :--: | :-------------: | :-----------: | :------: | :--------: |
|  ->  |   FIN_WAIT_1    |     FIN=M     |    f     | CLOSE_WAIT |
|  <-  |   FIN_WAIT_2    |    ack=M+1    |    a     | CLOSE_WAIT |
|  <-  |    TIME_WAIT    |     FIN=N     |    f     |  LAST_ACK  |
|  ->  | TIME_WAIT(2msl) | ACK=1 ack=N+1 |    aa    |   CLOSED   |

## 可否三次挥手

因服务器还在向客户端发送数据，所以客户端无法知道服务端是否收到了自己的断开请求

## TCP 协议如何保证传输的可靠性

1. 数据包校验
2. 对失序数据包重排序
3. 丢弃重复数据
4. 应答机制
5. 超时重发
6. 流量控制（固定大小的缓冲区）

## GET 和 POST 的区别

1. HTTP 报文层面：GET 将请求信息放在 URL，URL 对于浏览器有长度限制，POST 放在报文体的请求正文中的，URL 对于浏览器没有长度限制
2. 数据库层面：GET 做查询操作符合幂等性（对数据库的一次操作和多次操作的结果是一致的）和安全性（对数据库中的操作并没有改变数据），POST 不符合
3. 其他层面：GET 可以被缓存、被储存，而 POST 不行

## TCP 和 UDP 的区别

1. TCP 是面向连接的，UDP 是无连接的
2. TCP 是可靠的，UDP 是不可靠的
3. TCP 只支持点对点通信，UDP 支持一对多/多对一
4. TCP 是面向字节流的，UDP 是面向报文的
5. TCP 有拥塞控制机制，UDP 没有该机制，适合媒体通信
6. TCP 首部开销 20 字节，UDP 首部开销 8 字节

## TCP 拥塞控制

1. 慢启动
2. 拥塞避免->让拥塞窗口缓慢增长
3. 快重传
4. 快恢复

## HTTP 协议与 TCP 协议的联系

HTTP 协议是应用层协议，TCP 是传输层协议,HTTP 基于 TCP

## 在浏览器地址栏键入 URL，按下回车后经历的流程

1. DNS 解析（浏览器会依据 URL 逐层查询 DNS 缓存，解析 URL 中的域名对应的 ip 地址）<br>
   DNS 缓存：浏览器缓存 -> 系统缓存 -> 路由器缓存 -> IPS 服务器缓存 -> 域名服务器缓存 -> 顶级域名服务器缓存<br>
   `从那个缓存找到对应的ip就从那个缓存直接返回`

2. TCP 连接（会对应 ip 地址和端口和服务器建立 TCP 连接 -> 三次握手）

3. 浏览器发送读文件的 HTTP 请求

4. 服务器对浏览器的请求做出响应，处理请求并返回 HTTP 报文

5. 浏览器解析并渲染 HTML 页面

6. 连接结束，释放连接

## HTTP 状态码

1xx：指示信息 -> 表示请求已接收，继续处理

2xx：成功 -> 表示请求已被成功接收、理解、接受

> 200 OK:正常返回信息

3xx：重定向 -> 要完成请求必须进行进一步的操作

4xx: 客户端错误 -> 请求由语法错误或请求无法实现

> 400 Bad Request：客户端请求有语法错误，不能被服务器所理解<br>
> 401 Unauthorized：请求未经授权，这个状态代码必须和 WWW-Authenticate 抱头域一起使用<br>
> 403 Forrbidden：服务器收到请求，到那时拒绝提供服务<br>
> 404 Not Found：请求资源不存在，eg，输入了错误的 URL<br>

5xx: 服务器端错误 -> 服务器未能实现合法的请求

> 503 Server Unavailable：服务器当前不能处理客户端的请求，一段时间后可能恢复正常

## Cookie 和 Session 的区别

1. Cookie 数据存放在客户的浏览器上，Session 数据放在服务器上
2. Session 相对于 Cookie 更安全，可分析存放在本地的 Cookie 并进行 Cookie 欺骗
3. 若考虑到减轻服务器的负担，应当使用 Cookie











<comment-comment/>